[custom]
; 这里的设置会覆盖默认设置

[proxy_group]
; =========================================================
; 1. 核心策略组 (Core Groups)
; =========================================================

; 自动选择：每180秒测试一次，自动选择延迟最低的节点
custom_proxy_group=自动选择`url-test`.*`http://www.gstatic.com/generate_204`180,,25

; 负载均衡：在节点间随机负载
custom_proxy_group=负载均衡`load-balance`.*`http://www.gstatic.com/generate_204`300,,50

; 主代理：手动选择逻辑中心，包含自动、负载、直连和所有节点
custom_proxy_group=主代理`select`[]自动选择`[]负载均衡`[]DIRECT`.*

; =========================================================
; 2. 应用策略组 (App Groups)
; 逻辑：默认走主代理，也可单独强制指定为自动选择或负载均衡
; =========================================================

custom_proxy_group=Bahamut`select`[]主代理`[]自动选择`[]负载均衡
custom_proxy_group=Bilibili`select`[]DIRECT`[]主代理`[]自动选择`[]负载均衡
custom_proxy_group=Discord`select`[]主代理`[]自动选择`[]负载均衡
custom_proxy_group=GoogleFCM`select`[]主代理`[]自动选择`[]负载均衡
custom_proxy_group=Netflix`select`[]主代理`[]自动选择`[]负载均衡
custom_proxy_group=OpenAI`select`[]主代理`[]自动选择`[]负载均衡
custom_proxy_group=Speedtest`select`[]主代理`[]自动选择`[]负载均衡
custom_proxy_group=Spotify`select`[]主代理`[]自动选择`[]负载均衡
custom_proxy_group=Steam`select`[]DIRECT`[]主代理`[]自动选择`[]负载均衡
custom_proxy_group=Telegram`select`[]主代理`[]自动选择`[]负载均衡
custom_proxy_group=TikTok`select`[]主代理`[]自动选择`[]负载均衡
custom_proxy_group=Apple`select`[]DIRECT`[]主代理`[]自动选择`[]负载均衡
custom_proxy_group=Google`select`[]主代理`[]自动选择`[]负载均衡
custom_proxy_group=Microsoft`select`[]DIRECT`[]主代理`[]自动选择`[]负载均衡

; =========================================================
; 3. 地区与特殊策略组
; =========================================================

custom_proxy_group=黑名单网站`select`[]主代理`[]自动选择`[]负载均衡
custom_proxy_group=中国大陆网站`select`[]DIRECT`[]主代理`[]自动选择`[]负载均衡

[ruleset]
; =========================================================
; 规则集引用 (对应 rule-providers)
; 格式: ruleset=策略组名称,规则URL
; =========================================================

; Bahamut
ruleset=Bahamut,https://cdn.jsdmirror.com/gh/HosheaPDNX/rule-set@V2.0.0/mihomo/Bahamut/Bahamut-Site.mrs

; Apple
ruleset=Apple,https://cdn.jsdmirror.com/gh/HosheaPDNX/rule-set@V2.0.0/mihomo/Apple/Apple-Site.mrs
ruleset=Apple,https://cdn.jsdmirror.com/gh/HosheaPDNX/rule-set@V2.0.0/mihomo/Apple/Apple-IP.mrs

; Bilibili
ruleset=Bilibili,https://cdn.jsdmirror.com/gh/HosheaPDNX/rule-set@V2.0.0/mihomo/Bilibili/Bilibili-Site.mrs
ruleset=Bilibili,https://cdn.jsdmirror.com/gh/HosheaPDNX/rule-set@V2.0.0/mihomo/Bilibili/Bilibili-IP.mrs

; China / Mainland
ruleset=中国大陆网站,https://cdn.jsdmirror.com/gh/HosheaPDNX/rule-set@V2.0.0/mihomo/China/China-Site.mrs
ruleset=中国大陆网站,https://cdn.jsdmirror.com/gh/HosheaPDNX/rule-set@V2.0.0/mihomo/China/China-IP.mrs

; Discord
ruleset=Discord,https://cdn.jsdmirror.com/gh/HosheaPDNX/rule-set@V2.0.0/mihomo/Discord/Discord-Site.mrs

; GFWList (Blacklist)
ruleset=黑名单网站,https://cdn.jsdmirror.com/gh/HosheaPDNX/rule-set@V2.0.0/mihomo/GFWList/GFWList-Site.mrs

; Google
ruleset=Google,https://cdn.jsdmirror.com/gh/HosheaPDNX/rule-set@V2.0.0/mihomo/Google/Google-Site.mrs
ruleset=Google,https://cdn.jsdmirror.com/gh/HosheaPDNX/rule-set@V2.0.0/mihomo/Google/Google-IP.mrs

; GoogleFCM
ruleset=GoogleFCM,https://cdn.jsdmirror.com/gh/HosheaPDNX/rule-set@V2.0.0/mihomo/GoogleFCM/GoogleFCM-Site.mrs

; Local IP
ruleset=DIRECT,https://cdn.jsdmirror.com/gh/HosheaPDNX/rule-set@V2.0.0/mihomo/Local/Local-IP.mrs

; Microsoft
ruleset=Microsoft,https://cdn.jsdmirror.com/gh/HosheaPDNX/rule-set@V2.0.0/mihomo/Microsoft/Microsoft-Site.mrs

; Netflix
ruleset=Netflix,https://cdn.jsdmirror.com/gh/HosheaPDNX/rule-set@V2.0.0/mihomo/Netflix/Netflix-Site.mrs
ruleset=Netflix,https://cdn.jsdmirror.com/gh/HosheaPDNX/rule-set@V2.0.0/mihomo/Netflix/Netflix-IP.mrs

; OpenAI
ruleset=OpenAI,https://cdn.jsdmirror.com/gh/HosheaPDNX/rule-set@V2.0.0/mihomo/OpenAI/OpenAI-Site.mrs
ruleset=OpenAI,https://cdn.jsdmirror.com/gh/HosheaPDNX/rule-set@V2.0.0/mihomo/OpenAI/OpenAI-IP.mrs

; Speedtest
ruleset=Speedtest,https://cdn.jsdmirror.com/gh/HosheaPDNX/rule-set@V2.0.0/mihomo/Speedtest/Speedtest-Site.mrs

; Spotify
ruleset=Spotify,https://cdn.jsdmirror.com/gh/HosheaPDNX/rule-set@V2.0.0/mihomo/Spotify/Spotify-Site.mrs
ruleset=Spotify,https://cdn.jsdmirror.com/gh/HosheaPDNX/rule-set@V2.0.0/mihomo/Spotify/Spotify-IP.mrs

; Steam
ruleset=Steam,https://cdn.jsdmirror.com/gh/HosheaPDNX/rule-set@V2.0.0/mihomo/Steam/Steam-Site.mrs

; Telegram
ruleset=Telegram,https://cdn.jsdmirror.com/gh/HosheaPDNX/rule-set@V2.0.0/mihomo/Telegram/Telegram-Site.mrs
ruleset=Telegram,https://cdn.jsdmirror.com/gh/HosheaPDNX/rule-set@V2.0.0/mihomo/Telegram/Telegram-IP.mrs

; TikTok
ruleset=TikTok,https://cdn.jsdmirror.com/gh/HosheaPDNX/rule-set@V2.0.0/mihomo/TikTok/TikTok-Site.mrs

[rules]
; =========================================================
; 本地规则 (对应 rules 部分)
; 这里的规则优先级最高，会插入到 ruleset 之前
; =========================================================

; 拦截 UDP 443 (HTTP/3 QUIC 阻断，常用于优化)
rules=AND,((DST-PORT,443),(NETWORK,UDP)),REJECT

; 阿里 NTP 直连
rules=DOMAIN,ntp.aliyun.com,DIRECT

; 你的自定义直连域名
rules=DOMAIN,proxy.sakuraikaede.com,DIRECT
rules=DOMAIN,converter-mitce.sakuraikaede.com,DIRECT

; 微软连接测试 - 走主代理
rules=DOMAIN-KEYWORD,msftconnecttest.com,主代理
rules=DOMAIN-KEYWORD,msftncsi.com,主代理

; Google API - 走 Google 组
rules=DOMAIN-KEYWORD,googleapis,Google

; 兜底规则 (Subconverter 会自动生成 MATCH，但这里可以显式指定)
rules=MATCH,主代理
